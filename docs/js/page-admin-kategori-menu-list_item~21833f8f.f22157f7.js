(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-admin-kategori-menu-list_item~21833f8f"],{"1d70":function(t,e,a){},"5cdc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row"},[a("div",{staticClass:"offset-sm-2 col-sm-8"},[a("form",{attrs:{action:""},on:{submit:function(e){e.preventDefault(),"insert"==t.aksi?t.insert():"update"==t.aksi?t.update():t.remove()}}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("button",{staticClass:"btn btn-sm btn-dark  mr-4",attrs:{type:"button"},on:{click:function(e){return t.$router.push("/admin")}}},[a("img",{staticClass:"d-inline",staticStyle:{height:"20px",width:"20px",filter:"brightness(0) invert(1)"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/arrow-left.svg",alt:""}}),t._v(" Back")]),a("span",{staticClass:"font-bold uppercase"},[t._v(" List "+t._s(t.$route.query.data)+" ")])]),a("div",{staticClass:"card-body"},[a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("id_")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("div",{staticClass:"sm-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.id,expression:"vdata.id"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"id_",id:"id",name:"id",disabled:""},domProps:{value:t.vdata.id},on:{input:function(e){e.target.composing||t.$set(t.vdata,"id",e.target.value)}}})])])]),a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("Nama Tempat")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("div",{staticClass:"sm-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.nama_tempat,expression:"vdata.nama_tempat"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"nama_tempat_",id:"nama_tempat",name:"nama_tempat",required:""},domProps:{value:t.vdata.nama_tempat},on:{input:function(e){e.target.composing||t.$set(t.vdata,"nama_tempat",e.target.value)}}})])])]),a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("Koordinat")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("div",{staticClass:"sm-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.koordinat,expression:"vdata.koordinat"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"ex : -2.350631, 115.468547",id:"koordinat",name:"koordinat",required:""},domProps:{value:t.vdata.koordinat},on:{input:function(e){e.target.composing||t.$set(t.vdata,"koordinat",e.target.value)}}})])])]),a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("Gambar")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("input",{attrs:{type:"file",id:"filenya"}}),a("button",{staticClass:"btn btn-sm btn-danger  ",attrs:{type:"button"},on:{click:t.upload}},[t._v("Upload")]),a("div",{staticClass:"sm-form "},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.gambar,expression:"vdata.gambar"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"gambar",name:"gambar",placeholder:"gambar"},domProps:{value:t.vdata.gambar},on:{input:function(e){e.target.composing||t.$set(t.vdata,"gambar",e.target.value)}}})]),t.vdata.gambar?a("img",{staticStyle:{height:"100px"},attrs:{src:t.vdata.gambar,alt:""}}):t._e()])]),a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("Keterangan Tempat")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("wysiwyg",{attrs:{options:{image:{uploadURL:"https://upload.egov.balangankab.go.id/upload4.php",dropzoneOptions:{}}}},model:{value:t.vdata.deskripsi,callback:function(e){t.$set(t.vdata,"deskripsi",e)},expression:"vdata.deskripsi"}})],1)]),a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("Kategori Menu")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.vdata.id_menu,expression:"vdata.id_menu"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.vdata,"id_menu",e.target.multiple?a:a[0])}}},t._l(t.kategoris,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.nama_menu))])})),0)])]),a("br"),a("div",{staticClass:"text-center"},[a("button",{directives:[{name:"show",rawName:"v-show",value:"insert"==t.aksi,expression:"aksi=='insert'"}],staticClass:"btn btn-sm btn-outline-primary ml-2  font-times text-uppercase",attrs:{type:"submit"}},[a("span",{staticClass:"typcn typcn-edit"}),t._v(" "+t._s("insert"==t.aksi?"insert":"update"==t.aksi?"update":"remove"))]),a("button",{directives:[{name:"show",rawName:"v-show",value:"insert"!=t.aksi,expression:"aksi!='insert'"}],staticClass:"btn btn-sm btn-outline-success ml-2  font-times text-uppercase",attrs:{type:"submit"},on:{click:function(e){t.aksi="update"}}},[a("span",{staticClass:"typcn typcn-edit"}),t._v(" Update")]),a("button",{directives:[{name:"show",rawName:"v-show",value:"insert"!=t.aksi,expression:"aksi!='insert'"}],staticClass:"btn btn-sm btn-outline-danger ml-2  font-times text-uppercase",attrs:{type:"submit"},on:{click:function(e){t.aksi="remove"}}},[a("span",{staticClass:"typcn typcn-edit"}),t._v(" Delete")])])])])]),"insert"!=t.aksi?a("div",{staticClass:"text-center"},[a("br"),a("button",{staticClass:"btn btn-sm btn-dark  ",attrs:{type:"button"},on:{click:function(e){t.aksi="insert",t.vdata={},this.$forceUpdate()}}},[t._v("Insert")])]):t._e(),a("hr",{staticClass:"style13"}),a("Btables",{ref:"btable",attrs:{tables:"list_item",hide:["map","deskripsi"]},on:{selected:t.ambil}})],1)])])},i=[],n=a("1da1"),r=(a("159b"),a("b64b"),a("d3b7"),a("25f0"),a("5319"),a("ac1f"),a("4de4"),a("841c"),a("d81d"),a("7db0"),a("fb6a"),a("96cf"),a("4627"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.ready?a("section",[t.selected?a("div"):t._e(),a("div",{staticClass:"scrollbarnya",staticStyle:{overflow:"scroll",padding:"10px"}},[a("div",{staticClass:"sm-form float-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"search",name:"search",placeholder:"search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"form-control",staticStyle:{width:"20vw"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.perPage=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"10"}},[t._v("10")]),a("option",{attrs:{value:"50"}},[t._v("50")]),a("option",{attrs:{value:"1000"}},[t._v("semua")])]),a("b-table",{attrs:{data:t.td,"sticky-header":!1,selected:t.selected,"per-page":t.perPage,bordered:!0,striped:!0,narrowed:!0,hoverable:!0,"mobile-cards":!1,paginated:!0,"sort-icon":"arrow-up","sort-icon-size":"is-small","pagination-simple":!1,"default-sort-direction":"asc","pagination-rounded":!0,"default-sort":"id"},on:{"update:selected":function(e){t.selected=e}}},t._l(t.keys,(function(e,s){return a("b-table-column",{key:s+"keys",attrs:{visible:!t.hide.includes(e.field),searchable:["nama field buat search"].includes(e.field),field:e.field,label:e.label,sortable:""},scopedSlots:t._u([{key:"default",fn:function(s){return[a("span",{staticClass:"text-sm"},[t._v(" "+t._s(s.row[e.field])+" ")])]}}],null,!0)})})),1)],1)]):t._e()}),o=[],c=(a("ddb0"),a("4b97")),d=new c["a"],l={props:["tables","hide"],data:function(){return{ready:!1,datanya:[],keys:[],perPage:5,search:"",selected:!1}},watch:{selected:function(){this.$emit("selected",JSON.parse(JSON.stringify(this.selected)))}},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,!t.tables){e.next=10;break}return e.next=4,d.collection(t.tables).doc().get("*","where tb1.menu='".concat(t.$route.query.data,"' order by id"));case 4:s=e.sent,a.datanya=s,a.keys=Object.keys(s[0]),a.keys=a.keys.map((function(t){return{field:t,label:t.toUpperCase()}})),t.ready=!0,t.$forceUpdate();case 10:t.$forceUpdate();case 11:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t,t.getData(),setTimeout((function(){t.$el.querySelectorAll("th").forEach((function(t){t.style.background="black",t.style.color="white"}))}),2e3);case 3:case"end":return e.stop()}}),e)})))()},computed:{td:function(){var t=this,e=this.datanya,a=Object.keys(e[0]);return e=e.filter((function(e,s,i){var n=!1;if(a.filter((function(a){"string"==typeof e[a]?-1!=e[a].toLowerCase().indexOf(t.search.toLowerCase())&&(n=!0):null!=e[a]&&-1!=e[a].toString().indexOf(t.search)&&(n=!0)})),n)return e})),e}}},u=l,p=(a("b5cf"),a("2877")),m=Object(p["a"])(u,r,o,!1,null,null,null),h=m.exports,f=(a("bc3a"),a("8aa5"),a("03a0")),v=new c["a"],b={components:{Btables:h},layout:"admin",data:function(){return{thbackground:"initial",thcolor:"asd",datanya:[],kategoris:[],order:["id","nama_tempat","koordinat","gambar","deskripsi","id_menu"],vdata:{},ready:!1,show:!1,search:"",pilih:{name:"taufik",hobby:"coding"},thnya:{},err:!1,checkedItem:[],less:[,"_id","deskripsi"],modal:!1,modalAction:"preview",selected:10,pagination:1,temp1:0,temp2:10,orderBy:"",orderWith:!0,aksi:"insert",formOn:!1,updateOn:!1}},methods:{upload:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=document.querySelector("#filenya"),s=t,v.collection("tbuser").upload(a).then((function(t){console.log(t),s.vdata.gambar=t,s.$forceUpdate()}));case 3:case"end":return e.stop()}}),e)})))()},insert:function(){var t=this;delete this.vdata.id;var e=this;this.vdata.menu=this.$route.query.data,v.collection("list_item").doc().set(this.vdata).then((function(a){console.log("berhasil"),alert("simpan data berhasil!"),t.$refs.btable.getData(),e.refreshData()}))},update:function(){var t=this,e=this;this.vdata.menu=this.$route.query.data,v.collection("list_item").doc().set(this.vdata).then((function(a){alert("update data berhasil!"),t.$refs.btable.getData(),e.refreshData()}))},remove:function(){var t=this,e=this;confirm("Apakah yakin menghapus data?")&&v.collection("list_item").doc(this.vdata.id).delete().then((function(a){alert("delete data berhasil!"),e.refreshData(),t.$refs.btable.getData()}))},refreshData:function(){var t=this;v.collection("list_item").doc().get("*","").then((function(e){setTimeout((function(){(function(){var t,e;Array.prototype.forEach.call(document.querySelectorAll("table th"),(function(a){a.style.position="relative";var s=document.createElement("div");s.innerHTML="&nbsp;",s.style.top=0,s.style.right=0,s.style.bottom=0,s.style.width="5px",s.style.position="absolute",s.style.cursor="col-resize",s.addEventListener("mousedown",(function(s){t=a,e=a.offsetWidth-s.pageX})),a.appendChild(s)})),document.addEventListener("mousemove",(function(a){t&&(t.style.width=e+a.pageX+"px")})),document.addEventListener("mouseup",(function(){t=void 0}))})();var a=[],s={};e.forEach((function(i,n){t.order.forEach((function(t){s[t]=e[n][t]})),a.push(s),s={}})),t.datanya=a;var i=t.order;i=t.$_.difference(i,t.unless),t.thnya=i}),1e3)}))},ambil:function(t,e){window.scrollTo(0,0);this.updateOn=!0,this.formOn=!0;var a=this.$_.clone(t);console.log(a),this.vdata=a,this.pilih=t,this.aksi="update"},clearInput:function(){var t=this;this.formOn=!0;var e=Object.keys(this.vdata);e.forEach((function(e){t.vdata[e]=""}))},
//!==================
//! hapus dari sini
//! =================
checkedAll:function(){console.log(this.checkedItem)},susun:function(t){var e=t,a=["id","nama_menu"],s=[],i={};return e.forEach((function(t,n){a.forEach((function(t){i[t]=e[n][t]})),s.push(i),i={}})),s},print1:function(){this.$router.push("/laporan/perdata?less=".concat(this.less.toString())),this.$store.state.print2=[],this.$store.state.print2.push(this.pilih),this.$store.state.print2=this.susun(this.$store.state.print2),alert("print satu")},print2:function(){this.$router.push("/laporan/print?less=".concat(this.less.toString()));this.$store.state.print2=this.susun(this.td),alert("print banyak")},linknya:function(t){console.log("link",t),this.vdata.Gambars=t,this.$forceUpdate()},isDate:function(t){var e;return"[object Date]"===toString.call(t)||("function"===typeof t.replace&&t.replace(/^s+|s+$/gm,""),e=/(^d{1,4}[.|\/|-]d{1,2}[.|\/|-]d{1,4})(s*(?:0?[1-9]:[0-5]|1(?=[012])d:[0-5])ds*[ap]m)?$/,e.test(t))},format:function(t){return this.$datefns.format(t,"DD MMMM YYYY",{locale:f})},distanceToNow:function(){return this.$datefns.distanceInWordsToNow(new Date(2015,0,1,0,0,15),{locale:f,includeSeconds:!0})},pagPrev:function(){this.pagination=this.pagination-1,0==this.pagination&&(this.pagination=1),this.temp2=this.pagination*this.selected,this.temp1=Math.ceil(this.temp2)-this.selected},pagNext:function(){this.pagination=this.pagination+1,this.pagination>this.bagi+1&&(this.pagination=Math.round(this.bagi)),this.temp2=this.pagination*this.selected,this.temp1=Math.ceil(this.temp2)-this.selected},sort:function(t){this.orderBy=t,this.orderWith=!this.orderWith}//!==================
//! hapus sampai sini
//! =================
},props:{unless:{type:Array,required:!1,default:function(){return["gone"]}},date:{type:Array,required:!1,default:function(){return["ditanyakan"]}}},watch:{datanya:function(){this.datanya.length>0&&(this.ready=!0)},selected:function(){this.temp2=this.pagination*this.selected,this.temp1=this.temp2-this.selected},search:function(){this.pagination=1,this.temp2=this.pagination*this.selected,this.temp1=this.temp2-this.selected}},computed:{bagi:function(){var t=this.datanya;return t=t.length/10,console.log(t),t},th:function(){var t=this.datanya,e=Object.keys(t[0]);return e=this.$_.difference(e,this.unless),e},td:function(){var t=this,e=this,a=this.datanya;//! order fungsi
if(this.orderBy.length>0){var s=this.orderWith?"asc":"desc";a=this.$_.orderBy(a,[this.orderBy],[s])}//! search fungsi
var i=this.thnya;return a=a.filter((function(e,a,s){var n=!1;if(i.filter((function(a){"string"==typeof e[a]?-1!=e[a].toLowerCase().indexOf(t.search.toLowerCase())&&(n=!0):null!=e[a]&&-1!=e[a].toString().indexOf(t.search)&&(n=!0)})),n)return e})),//! cari shortcut contoh
a=a.map((function(t){var a={},s=Object.keys(t);return s=e.$_.difference(s,e.unless),s.forEach((function(i,n){s.find((function(t){return t==e.date[n]})),a[i]=t[i]})),a})),a=a.slice(this.temp1,this.temp2),a}},mounted:function(){console.log(this.$route.query.data);var t=this;v.collection("menu_kategori").doc().get("*","where tb1.kategori='".concat(this.$route.query.data,"' order by id")).then((function(e){t.kategoris=e,t.$forceUpdate()})),this.refreshData()}},g=b,y=Object(p["a"])(g,s,i,!1,null,null,null);e["default"]=y.exports},b5cf:function(t,e,a){"use strict";a("1d70")}}]);
//# sourceMappingURL=page-admin-kategori-menu-list_item~21833f8f.f22157f7.js.map