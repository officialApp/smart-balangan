(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-admin-test~31ecd969"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"6c12":function(e,t,a){},"81f1":function(e,t,a){"use strict";a("6c12")},"841c":function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),o=a("1d80"),c=a("129f"),s=a("14c3");n("search",1,(function(e,t,a){return[function(t){var a=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var o=r(e),u=String(this),p=o.lastIndex;c(p,0)||(o.lastIndex=0);var l=s(o,u);return c(o.lastIndex,p)||(o.lastIndex=p),null===l?-1:l.index}]}))},"85b0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{staticClass:"btn btn-sm btn-primary  ",attrs:{type:"button"},on:{click:e.test}},[e._v("test")]),e.datanya.length>0?a("div",[a("Btables",{attrs:{tables:"test",hide:[""]},on:{selected:e.ambil}})],1):e._e()])},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ready?a("section",[e.selected?a("div"):e._e(),a("div",{staticClass:"scrollbarnya",staticStyle:{overflow:"scroll",padding:"10px"}},[a("div",{staticClass:"sm-form float-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"search",name:"search",placeholder:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.perPage,expression:"perPage"}],staticClass:"form-control",staticStyle:{width:"20vw"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.perPage=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"50"}},[e._v("50")]),a("option",{attrs:{value:"1000"}},[e._v("semua")])]),a("b-table",{attrs:{data:e.td,"sticky-header":!1,selected:e.selected,"per-page":e.perPage,bordered:!0,striped:!0,narrowed:!0,hoverable:!0,"mobile-cards":!1,paginated:!0,"sort-icon":"arrow-up","sort-icon-size":"is-small","pagination-simple":!1,"default-sort-direction":"asc","pagination-rounded":!0,"default-sort":"id"},on:{"update:selected":function(t){e.selected=t}}},e._l(e.keys,(function(t,n){return a("b-table-column",{key:n+"keys",attrs:{visible:!e.hide.includes(t.field),searchable:["nama field buat search"].includes(t.field),field:t.field,label:t.label,sortable:""},scopedSlots:e._u([{key:"default",fn:function(n){return[a("span",{staticClass:"text-sm"},[e._v(" "+e._s(n.row[t.field])+" ")])]}}],null,!0)})})),1)],1)]):e._e()},c=[],s=a("1da1"),u=(a("96cf"),a("d3b7"),a("ddb0"),a("b64b"),a("d81d"),a("159b"),a("4de4"),a("841c"),a("ac1f"),a("25f0"),a("4b97")),p=new u["a"],l={props:["tables","hide"],data:function(){return{ready:!1,datanya:[],keys:[],perPage:5,search:"",selected:!1}},watch:{selected:function(){this.$emit("selected",JSON.parse(JSON.stringify(this.selected)))}},methods:{getData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,!e.tables){t.next=10;break}return t.next=4,p.collection(e.tables).doc().get("*","order by id");case 4:n=t.sent,a.datanya=n,a.keys=Object.keys(n[0]),a.keys=a.keys.map((function(e){return{field:e,label:e.toUpperCase()}})),e.ready=!0,e.$forceUpdate();case 10:e.$forceUpdate();case 11:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,e.$nuxt.$on("getData",(function(){a.getData()})),e.getData(),setTimeout((function(){e.$el.querySelectorAll("th").forEach((function(e){e.style.background="black",e.style.color="white"}))}),2e3);case 4:case"end":return t.stop()}}),t)})))()},computed:{td:function(){var e=this,t=this.datanya,a=Object.keys(t[0]);return t=t.filter((function(t,n,r){var o=!1;if(a.filter((function(a){"string"==typeof t[a]?-1!=t[a].toLowerCase().indexOf(e.search.toLowerCase())&&(o=!0):null!=t[a]&&-1!=t[a].toString().indexOf(e.search)&&(o=!0)})),o)return t})),t}}},i=l,d=(a("81f1"),a("2877")),h=Object(d["a"])(i,o,c,!1,null,null,null),f=h.exports,g=a("53ca"),m=a("d4ec"),k=a("bee2"),v=(a("5319"),a("4627")),b=a("bc3a"),y=a.n(b),w=a("6821"),x=a.n(w),S=a("3452"),O=a.n(S),_="borneojs",j=!1,I=!0,R="php",z="",D="",F=0,J="https://upload.egov.balangankab.go.id",N=J+"/apis2.php",C=J+"/upload1.php",A=function(){function e(){Object(m["a"])(this,e)}return Object(k["a"])(e,[{key:"collection",value:function(e){return z=e,this}},{key:"doc",value:function(e){return e&&(D=e),this}},{key:"set",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,r,o,c,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=function(e){return Object.keys(e)},n=new FormData,console.log("vdata",t),r=Object.keys(t),r.forEach((function(e){console.log(Object(g["a"])(t[e])),"string"==typeof t[e]&&(t[e]=t[e].replace(/'/g,"\\'"),t[e]=t[e].replace(/"/g,'"'))})),a&&(j=a),j&&(n.append("header",localStorage.getItem("auth._token.local")),n.append("key-h",localStorage.getItem("auth._token.local"))),e.next=9,$();case 9:return o=e.sent,n.append("se-token",o),n.append("5e19fb19a0aa66a0",P(j.toString())),n.append("t-bl",P(z)),n.append("backend",P(R)),I?(n.append("scramble",I),n.append("data",P(JSON.stringify(t)))):n.append("data",JSON.stringify(t)),n.append("key-z-token",P("set")),n.append("key",c(t)),e.next=19,y.a.post(N,n).then((function(e){return console.log(e),e.data})).catch((function(e){console.log("table not found"),F++,F<2&&s.set(t)}));case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("t-bl",P(z)),r.append("backend",P(R)),e.next=5,$();case 5:return o=e.sent,r.append("se-token",o),n&&(j=n),j&&(r.append("header",localStorage.getItem("auth._token.local")),r.append("key-h",localStorage.getItem("auth._token.local"))),r.append("5e19fb19a0aa66a0",P(j.toString())),I?(r.append("scramble",I),r.append("sd28(#092/sd",P(t)),r.append("23*(kdj",P(a))):(r.append("sd28(#092/sd",t),r.append("23*(kdj",a)),""!=D.length&&r.append("id","".concat(D)),r.append("key-z-token",P("get")),e.next=15,y.a.post(N,r).then((function(e){return console.log(e),e.data})).catch((function(e){console.log("table not found")}));case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));function t(t,a,n){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,I&&n.append("scramble",I),t&&(j=t),j&&(n.append("header",localStorage.getItem("auth._token.local")),n.append("key-h",localStorage.getItem("auth._token.local"))),n.append("t-bl",P(z)),e.next=7,$();case 7:return r=e.sent,n.append("se-token",r),n.append("5e19fb19a0aa66a0",P(j.toString())),n.append("backend",P(R)),n.append("sd28(#092/sd",a),""!=D.length&&n.append("id","".concat(D)),n.append("key-z-token",P("delete")),e.next=16,y.a.post(N,n).then((function(e){return console.log(e),e.data})).catch((function(e){console.log("Data tidak ditemukan")}));case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"select",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,e.next=3,$();case 3:return r=e.sent,n.append("se-token",r),a&&(j=a),j&&(n.append("header",localStorage.getItem("auth._token.local")),n.append("key-h",localStorage.getItem("auth._token.local"))),n.append("t-bl",P(z)),n.append("5e19fb19a0aa66a0",P(j.toString())),n.append("backend",P(R)),I?(n.append("scramble",I),n.append("sd28(#092/sd",P(t))):n.append("sd28(#092/sd",t),""!=D.length&&n.append("id","".concat(D)),n.append("key-z-token",P("select")),e.next=15,y.a.post(N,n).then((function(e){return console.log(e),e.data})).catch((function(e){console.log("table not found")}));case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n,r){var o,c,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),o=new FormData,e.next=4,$();case 4:return c=e.sent,o.append("se-token",c),o.append("token-u",P(t.username)),o.append("token-p",P(x()(t.password))),o.append("backend",P(R)),o.append("key-z-token",P("login")),e.next=12,y.a.post(J+"/apis.php",o).then((function(e){console.log("data login",e),localStorage.setItem("auth._token.local",e.data.token),localStorage.setItem("auth.local",e.data.token);var t=new FormData;t.append("se-token",c),t.append("key-h",localStorage.getItem("auth._token.local")),t.append("key-z-token",P("getuser")),y.a.post(J+"/apis.php",t,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){console.log("changeuser",e),s.Oauth=!0,a.commit("changeUsers",e.data),localStorage.setItem("users",JSON.stringify(e.data)),n.push(r)}))})).catch((function(e){alert("username salah")}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));function t(t,a,n,r){return e.apply(this,arguments)}return t}()},{key:"login2",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n,r){var o,c,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new FormData,e.next=3,$();case 3:return c=e.sent,o.append("se-token",c),o.append("token-u",P(t.username)),o.append("token-p",P(t.password)),e.next=9,y.a.post(J+"/auth/login.php",o).then((function(e){console.log("data login",e),localStorage.setItem("auth._token.local",e.data.token),localStorage.setItem("auth.local",e.data.token);var t=new FormData;t.append("se-token",c),t.append("key-h",localStorage.getItem("auth._token.local")),t.append("key-z-token",P("getuser")),y.a.post(J+"/apis.php",t,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){console.log("changeuser",e),s.Oauth=!0,a.commit("changeUsers",e.data),localStorage.setItem("users",JSON.stringify(e.data)),r&&n.push(r)}))}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));function t(t,a,n,r){return e.apply(this,arguments)}return t}()},{key:"register",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,e.next=3,$();case 3:return n=e.sent,a.append("se-token",n),a.append("token-u",P(t.username)),a.append("token-p",P(t.password)),e.next=9,y.a.post(J+"/auth/register.php",a).then((function(e){return e.data}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ceklogin",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,e.next=3,$();case 3:return r=e.sent,fd.append("se-token",r),n.append("backend",P(R)),n.append("key-z-token",P("getuser")),n.append("key-h",localStorage.getItem("auth._token.local")),e.next=10,y.a.post(J+"/apis.php",n,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){if("object"==Object(g["a"])(e.data))return t.commit("changeUsers",e.data),localStorage.setItem("users",JSON.stringify(e.data)),e;throw Error})).catch((function(e){throw Error}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getuser",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,e.next=3,$();case 3:return n=e.sent,fd.append("se-token",n),a.append("backend",P(R)),a.append("key-z-token",P("getuser")),a.append("key-h",localStorage.getItem("auth._token.local")),e.next=10,y.a.post(J+"/apis.php",a,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){return console.log(e),t.commit("changeUsers",e.data[0]),localStorage.setItem("users",JSON.stringify(e.data[0])),e.data[0]}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"upload",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,o,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this,a=t,n={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},e.prev=3,r=a.files[0],o=new FormData,e.next=8,Object(v["a"])(r,n);case 8:return c=e.sent,e.next=11,$();case 11:return s=e.sent,o.append("se-token",s),o.append("file",c),o.append("data","select * from tbuser"),o.append("secret","dsdxxoi4#$(*#sdsaaada@#"),e.next=18,y.a.post(C,o).then((function(e){return J+e.data}));case 18:return e.abrupt("return",e.sent);case 21:e.prev=21,e.t0=e["catch"](3),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[3,21]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function $(){return E.apply(this,arguments)}function E(){return E=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={stringify:function(e){var t={ct:e.ciphertext.toString(O.a.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),JSON.stringify(t)},parse:function(e){var t=JSON.parse(e),a=O.a.lib.CipherParams.create({ciphertext:O.a.enc.Base64.parse(t.ct)});return t.iv&&(a.iv=O.a.enc.Hex.parse(t.iv)),t.s&&(a.salt=O.a.enc.Hex.parse(t.s)),a}},e.next=3,y.a.post(J+"/auth/108starsofdestiny.php",n);case 3:return a=e.sent,n=new FormData,r=O.a.AES.encrypt(JSON.stringify(_),a.data.toString(),{format:t}).toString(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function P(e){for(var t="",a="",n=0;n<e.length;n++)t="",t=e.charAt(n),"a"==t?t=t.replace("a","x"):"b"==t?t=t.replace("b","v"):"c"==t?t=t.replace("c","u"):"d"==t?t=t.replace("d","w"):"e"==t?t=t.replace("e","y"):"f"==t?t=t.replace("f","z"):"g"==t?t=t.replace("g","t"):"h"==t?t=t.replace("h","s"):"i"==t?t=t.replace("i","r"):"j"==t?t=t.replace("j","q"):"k"==t?t=t.replace("k","p"):"l"==t?t=t.replace("l","o"):"m"==t?t=t.replace("m","n"):"z"==t?t=t.replace("z","f"):"y"==t?t=t.replace("y","e"):"x"==t?t=t.replace("x","a"):"w"==t?t=t.replace("w","d"):"v"==t?t=t.replace("v","b"):"u"==t?t=t.replace("u","c"):"t"==t?t=t.replace("t","g"):"s"==t?t=t.replace("s","h"):"r"==t?t=t.replace("r","i"):"q"==t?t=t.replace("q","j"):"p"==t?t=t.replace("p","k"):"o"==t?t=t.replace("o","l"):"n"==t?t=t.replace("n","m"):"1"==t?t=t.replace("1","0"):"2"==t?t=t.replace("2","8"):"3"==t?t=t.replace("3","9"):"4"==t?t=t.replace("4","7"):"5"==t?t=t.replace("5","6"):"0"==t?t=t.replace("0","1"):"8"==t?t=t.replace("8","2"):"9"==t?t=t.replace("9","3"):"7"==t?t=t.replace("7","4"):"6"==t?t=t.replace("6","5"):" "==t?t=t.replace(" ","_"):"_"==t?t=t.replace("_"," "):"*"==t?t=t.replace("*","/"):"/"==t?t=t.replace("/","*"):","==t?t=t.replace(",","^"):"^"==t&&(t=t.replace("^",",")),a+=t;return a}var U=A,B=new U,q={layout:"admin",data:function(){return{datanya:[]}},components:{Btables:f},methods:{ambil:function(){console.log("ok")},test:function(){}},mounted:function(){var e=this;B.collection("test").doc().get("*","order by id").then((function(t){e.datanya=t,console.log(t)}))}},H=q,W=Object(d["a"])(H,n,r,!1,null,null,null);t["default"]=W.exports},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),c=o("map");n({target:"Array",proto:!0,forced:!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=page-admin-test~31ecd969.5027e3c3.js.map